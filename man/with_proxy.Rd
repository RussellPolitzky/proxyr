% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/with_proxy.R
\name{with_proxy}
\alias{with_proxy}
\title{Execute Code with a Proxy}
\usage{
with_proxy(
  expr,
  proxy_url = get_default_proxy_url(),
  username = NULL,
  password = NULL
)
}
\arguments{
\item{expr}{The code to execute.}

\item{proxy_url}{The URL of the proxy server (e.g., "http://proxy.example.com:8080").
Defaults to \code{\link{get_default_proxy_url}()}.}

\item{username}{Optional. The username for the proxy. If not provided, attempts to retrieve from credentials.}

\item{password}{Optional. The password for the proxy. If not provided, attempts to retrieve from credentials.}
}
\description{
Sets the proxy environment variables for the duration of the expression.
}
\examples{
\dontrun{
set_default_proxy_url("http://my.proxy:8080")
set_proxy_credentials("http://my.proxy:8080", "user", "pass")

with_proxy({
  # Code that requires proxy
  Sys.getenv("http_proxy")
})
}
}
